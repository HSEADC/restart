<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Статьи</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bagel+Fat+One&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="stylesheets/components/1.Quarks.css" />
    <link rel="stylesheet" href="stylesheets/components/2.Atoms.css" />
    <link rel="stylesheet" href="stylesheets/components/3.Molecules.css" />
    <link rel="stylesheet" href="stylesheets/components/4.Wrappers.css" />
    <link rel="stylesheet" href="stylesheets/components/5.Collections.css" />
    <link rel="stylesheet" href="stylesheets/components/6.Organisms.css" />
    <link rel="stylesheet" href="stylesheets/components/7.SuperOrganisms.css" />
    <link rel="stylesheet" href="stylesheets//adaptive.css" />
    <analytics></analytics>
    <script src="https://cdn.jsdelivr.net/npm/airtable@latest/build/airtable.browser.js"></script>
  </head>
  <body>
    <!-- поиск -->
    <h1>Поиск статей</h1>
    <input type="text" id="search" placeholder="Поиск статей..." />
    <div class="S_Content"></div>
    <!-- поиск -->

    <div class="O_Menu">
      <div class="C_Menu">
        <div class="A_MenuItem">
          <a href="../index.html">главная</a>
        </div>
        <div class="A_MenuItem"><a href="newtherapy.html">терапия</a></div>
        <div class="A_MenuItem">
          <b><a href="newarticles.html">статьи</a></b>
        </div>
        <div class="A_MenuItem"><a href="newthoughts.html">мысли</a></div>
        <div class="A_MenuItem"><a href="newtest.html">тесты</a></div>
      </div>
      <div class="A_Logo"><p>RESTART</p></div>
      <div class="A_MenuButton">
        <button class="A_MenuButton">начать терапию</button>
      </div>
    </div>
    <!-- статьи -->
    <div class="A_Title"><p>Статьи</p></div>
    <div class="C_Filter">
      <button class="A_WhiteFilter all">Все</button>
      <button class="A_WhiteFilter psyhology">Психология</button>
      <button class="A_WhiteFilter develop">Развлечения</button>
      <button class="A_WhiteFilter activity">Саморазвитие</button>
      <button class="A_WhiteFilter relationship">Отношения</button>
    </div>
    <div class="C_BigArticles">
      <div class="W_Article psyhology">
        <a href="new_articles.html/article1.html"
          ><div class="A_PhotoArticle1">
            <img
              src="../images/firstarticle.jpg"
              alt=""
              class="A_PhotoArticle1"
            /></div
        ></a>
        <div class="M_Article">
          <div class="A_ArticleTitle"><p>Когнитивные искажения</p></div>
          <div class="A_ArticleDescription">
            <p>Влияние восприятия реальности на эмоциональное состояние</p>
          </div>
        </div>
      </div>
      <!-- вторая статья -->
      <div class="W_Article psyhology">
        <a href="new_articles.html/article2.html"
          ><div class="A_PhotoArticle1">
            <img
              src="../images/second.jpg"
              alt=""
              class="A_PhotoArticle1"
            /></div
        ></a>
        <div class="M_Article">
          <div class="A_ArticleTitle"><p>Эмоциональная зависимость</p></div>
          <div class="A_ArticleDescription">
            <p>Как распознать и преодолеть эмоциональную зависимость?</p>
          </div>
        </div>
      </div>
    </div>
    <!-- маленькие статьи -->
    <div class="C_MiniArticles">
      <div class="W_Article psyhology">
        <a href="new_articles.html/article3.html">
          <div class="A_MiniPhotoArticle">
            <img
              src="../images/heands.jpg"
              alt=""
              class="A_MiniPhotoArticle"
            /></div
        ></a>
        <div class="M_MiniArticle">
          <div class="A_MiniArticleTitle"><p>Психология прощения</p></div>
          <div class="A_MiniArticleDescription">
            <p>Прощение как способ освобождения от негатива</p>
          </div>
        </div>
      </div>
      <!-- вторая статья -->
      <div class="W_Article psyhology">
        <a href="new_articles.html/article4.html">
          <div class="A_MiniPhotoArticle">
            <img
              src="../images/article4.jpg"
              alt=""
              class="A_MiniPhotoArticle"
            /></div
        ></a>
        <div class="M_MiniArticle">
          <div class="A_MiniArticleTitle"><p>Эмоциональные этапы</p></div>
          <div class="A_MiniArticleDescription">
            <p>Стадии после разрыва отношений</p>
          </div>
        </div>
      </div>
      <!-- третья статья -->
      <div class="W_Article psyhology">
        <a href="new_articles.html/article5.html">
          <div class="A_MiniPhotoArticle">
            <img
              style="
                object-fit: cover;
                width: 427px;
                height: 296px;
                border-radius: 10px;
              "
              src="../images/self.jpg"
              alt=""
            /></div
        ></a>
        <div class="M_MiniArticle">
          <div class="A_MiniArticleTitle"><p>Самооценка</p></div>
          <div class="A_MiniArticleDescription">
            <p>Восстановление самооценки после расставания</p>
          </div>
        </div>
      </div>
    </div>
    <!-- третий ряд статей -->
    <div class="C_BigArticles">
      <div class="W_Article develop">
        <a href="new_articles.html/article11.html">
          <div class="A_PhotoArticle1">
            <img src="../images/film.jpg" alt="" class="A_PhotoArticle1" /></div
        ></a>
        <div class="M_Article">
          <div class="A_ArticleTitle"><p>Фильмы</p></div>
          <div class="A_ArticleDescription">
            <p>Фильмы об отношениях, которые стоит посмотреть</p>
          </div>
        </div>
      </div>
      <!-- вторая статья -->
      <div class="W_Article develop">
        <a href="new_articles.html/article12.html">
          <div class="A_PhotoArticle1">
            <img
              src="../images/books.jpg"
              alt=""
              class="A_PhotoArticle1"
            /></div
        ></a>
        <div class="M_Article">
          <div class="A_ArticleTitle"><p>Книги</p></div>
          <div class="A_ArticleDescription">
            <p>Книги об отношениях, которые стоит почитать</p>
          </div>
        </div>
      </div>
    </div>
    <!-- четвертый ряд статей -->
    <div class="C_MiniArticles">
      <div class="W_Article activity">
        <a href="new_articles.html/article6.html">
          <div class="A_MiniPhotoArticle">
            <img
              src="../images/grow.jpg"
              alt=""
              class="A_MiniPhotoArticle"
            /></div
        ></a>
        <div class="M_MiniArticle">
          <div class="A_MiniArticleTitle"><p>Посттравматический рост</p></div>
          <div class="A_MiniArticleDescription">
            <p>Путь к внутреннему возрождению</p>
          </div>
        </div>
      </div>
      <!-- вторая статья -->
      <div class="W_Article activity">
        <a href="new_articles.html/article7.html">
          <div class="A_MiniPhotoArticle">
            <img
              src="../images/balance.jpg"
              alt=""
              class="A_MiniPhotoArticle"
            /></div
        ></a>
        <div class="M_MiniArticle">
          <div class="A_MiniArticleTitle"><p>Колесо баланса</p></div>
          <div class="A_MiniArticleDescription">
            <p>Инструмент для гармонии в жизни</p>
          </div>
        </div>
      </div>
      <!-- третья статья -->
      <div class="W_Article activity">
        <a href="new_articles.html/article8.html">
          <div class="A_MiniPhotoArticle">
            <img
              style="
                object-fit: cover;
                width: 427px;
                height: 296px;
                border-radius: 10px;
              "
              src="../images/emotion.jpg"
              alt=""
            /></div
        ></a>
        <div class="M_MiniArticle">
          <div class="A_MiniArticleTitle"><p>Эмоциональный интеллект</p></div>
          <div class="A_MiniArticleDescription">
            <p>Ключ к личностному росту</p>
          </div>
        </div>
      </div>
    </div>
    <!-- пятый ряд статей -->
    <div class="C_BigArticles">
      <div class="W_Article relationship">
        <a href="new_articles.html/article9.html">
          <div class="A_PhotoArticle1">
            <img
              src="../images/article6.jpg"
              alt=""
              class="A_PhotoArticle1"
            /></div
        ></a>
        <div class="M_Article">
          <div class="A_ArticleTitle"><p>Конфликты</p></div>
          <div class="A_ArticleDescription">
            <p>
              Методики для конструктивного разрешения споров и недоразумений
            </p>
          </div>
        </div>
      </div>
      <!-- вторая статья -->
      <div class="W_Article relationship">
        <a href="new_articles.html/article10.html">
          <div class="A_PhotoArticle1">
            <img src="../images/type.jpg" alt="" class="A_PhotoArticle1" /></div
        ></a>
        <div class="M_Article">
          <div class="A_ArticleTitle"><p>Типы привязанности</p></div>
          <div class="A_ArticleDescription">
            <p>Типы привязанности и их влияние на отношения</p>
          </div>
        </div>
      </div>
    </div>
    <!-- футер -->
    <div class="O_Footer2">
      <div class="W_FirstFooter">
        <div class="A_HSELogo">
          <img src="../images/A_HSELogo.svg" alt="" />
        </div>
        <div class="W_TwoPerson">
          <div class="W_Person">
            <div class="M_Person">
              <div class="A_Person"><p>Кураторы</p></div>
              <div class="A_Name"><p>Софья Каем</p></div>
            </div>
            <div class="A_Name"><p>Aнна Комкова</p></div>
          </div>
          <div class="M_Person">
            <div class="A_Person"><p>Дизайнер</p></div>
            <div class="A_Name"><p>Миловидова Нина</p></div>
          </div>
        </div>
        <div class="M_Social">
          <div class="A_Tg"><img src="../images/A_Tg.svg" alt="" /></div>
          <div class="A_Vk"><img src="../images/A_Vk.svg" alt="" /></div>
        </div>
      </div>
      <div class="A_RestartFooter"><p>RESTART</p></div>
    </div>
    <script>
      console.clear()
      document.addEventListener('DOMContentLoaded', () => {
        initFilter()
        initMultiselect()
      })

      function initFilter() {
        const tags = document.querySelectorAll('.A_WhiteFilter')
        const tagAll = document.querySelector('.all')

        tags.forEach((tag) => {
          tag.addEventListener('click', () => {
            if (tag != tagAll) {
              tagAll.classList.remove('active')
              tag.classList.toggle('active')

              console.log('здесь будет функция фильтрации по тегу')
              filterByTag()
            }

            let activeTags = document.querySelectorAll('.active')
            if (tag == tagAll && !tag.classList.contains('active')) {
              activeTags.forEach((tag) => {
                tag.classList.remove('active')
              })
              tag.classList.add('active')
              console.log('здесь будет функция вывода всех карточек')
              filterAll()
            }
            if (
              tags.length - 1 == activeTags.length ||
              activeTags.length == 0
            ) {
              activeTags.forEach((tag) => {
                tag.classList.remove('active')
              })
              tagAll.classList.add('active')
              console.log('здесь будет функция вывода всех карточек')
              filterAll()
            }
          })
        })
      }
      function filterByTag() {
        const cards = document.querySelectorAll('.W_Article')
        const activeTags = document.querySelectorAll('.active')
        let tagList = []
        let count

        cards.forEach((card) => {
          card.style.display = 'none'
        })

        activeTags.forEach((tag) => {
          let classList = tag.className.split(' ')
          classList = classList.sort()
          count = 1
          if (classList[1] == 'active') {
            count++
          }
          for (let i = count; i < classList.length; i++) {
            tagList.push(classList[i])
          }
        })

        tagList.forEach((tagName) => {
          cards.forEach((card) => {
            if (card.classList.contains(tagName)) {
              card.style.display = 'block'
            }
          })
        })
      }

      function filterAll() {
        const cards = document.querySelectorAll('.W_Article')
        const activeTags = document.querySelectorAll('.active')

        activeTags.forEach((tag) => {
          if (tag.classList.contains('all')) {
            cards.forEach((card) => {
              card.style.display = 'block'
            })
          }
        })
      }

      //  поиск

      const articles = [
        {
          title: 'Первая статья',
          description: 'Это описание первой статьи.',
          image: 'https://via.placeholder.com/150'
        },
        {
          title: 'Вторая статья',
          description: 'Это описание второй статьи.',
          image: 'https://via.placeholder.com/150'
        },
        {
          title: 'Третья статья',
          description: 'Это описание третьей статьи.',
          image: 'https://via.placeholder.com/150'
        }
      ]

      // Функция для отображения статей
      function displayArticles(articlesToDisplay) {
        const contentDiv = document.querySelector('.S_Content')
        contentDiv.innerHTML = '' // Очищаем предыдущие результаты

        if (articlesToDisplay.length === 0) {
          contentDiv.innerHTML = '<p>Статьи не найдены.</p>'
          return
        }

        articlesToDisplay.forEach((article) => {
          const articleDiv = document.createElement('div')
          articleDiv.classList.add('article')
          articleDiv.innerHTML = `
                    <h2>${article.title}</h2>
                    <img src="${article.image}" alt="${article.title}" />
                    <p>${article.description}</p>
                `
          contentDiv.appendChild(articleDiv)
        })
      }

      // Слушатель события для поля поиска
      document.getElementById('search').addEventListener('input', (event) => {
        const searchTerm = event.target.value.toLowerCase()
        const filteredArticles = articles.filter(
          (article) =>
            article.title.toLowerCase().includes(searchTerm) ||
            article.description.toLowerCase().includes(searchTerm)
        )
        displayArticles(filteredArticles)
      })

      // Инициализация
      displayArticles(articles)
    </script>
  </body>
</html>
